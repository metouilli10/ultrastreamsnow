document.addEventListener('DOMContentLoaded', () => {const mobileToggle = document.querySelector('.mobile-toggle');const nav = document.querySelector('.nav');const navLinks = document.querySelectorAll('.nav__link');if (mobileToggle) {mobileToggle.addEventListener('click', () => {nav.classList.toggle('active');mobileToggle.classList.toggle('active');});}navLinks.forEach(link => {link.addEventListener('click', () => {nav.classList.remove('active');mobileToggle.classList.remove('active');});});const faqItems = document.querySelectorAll('.faq-item');faqItems.forEach(item => {const question = item.querySelector('.faq-question');question.addEventListener('click', () => {faqItems.forEach(otherItem => {if (otherItem !== item) {otherItem.classList.remove('active');}});item.classList.toggle('active');});});document.querySelectorAll('a[href^="#"]').forEach(anchor => {anchor.addEventListener('click', function (e) {e.preventDefault();const target = document.querySelector(this.getAttribute('href'));if (target) {target.scrollIntoView({behavior: 'smooth', block: 'start' });}});});const header = document.querySelector('.header');window.addEventListener('scroll', () => {if (window.scrollY > 50) {header.classList.add('scrolled');}else {header.classList.remove('scrolled');}});const pricingToggle = document.getElementById('pricing-toggle');const priceAmounts = document.querySelectorAll('.pricing-card .amount');const deviceCounts = document.querySelectorAll('.device-count');const paymentLinks = {standard: {'plan-3m-standard': 'https: 'plan-6m-standard': 'https: 'plan-12m-standard': 'https: 'plan-24m-standard': 'https: }, premium: {'plan-3m-standard': 'https: 'plan-6m-standard': 'https: 'plan-12m-standard': 'https: 'plan-24m-standard': 'https: }};if (pricingToggle) {pricingToggle.addEventListener('change', function () {const isPremium = this.checked;priceAmounts.forEach(amount => {if (isPremium) {amount.textContent = amount.dataset.premium;}else {amount.textContent = amount.dataset.standard;}});deviceCounts.forEach(count => {if (isPremium) {count.textContent = 'Works on 2 Devices';count.style.color = 'var(--color-accent)';count.style.fontWeight = '700';}else {count.textContent = 'Works on 1 Device';count.style.color = '';count.style.fontWeight = '';}});const links = isPremium ? paymentLinks.premium : paymentLinks.standard;Object.keys(links).forEach(buttonId => {const button = document.getElementById(buttonId);if (button) {button.href = links[buttonId];}});});}const trialForm = document.getElementById('trialForm');if (trialForm) {trialForm.addEventListener('submit', async function(e) {e.preventDefault();const submitBtn = document.getElementById('submitBtn');const formMessage = document.getElementById('form-message');const originalBtnText = submitBtn.innerHTML;submitBtn.disabled = true;submitBtn.innerHTML = '⏳ Submitting...';formMessage.style.display = 'none';const formData = new FormData(trialForm);try {const response = await fetch('https: method: 'POST', body: formData });const data = await response.json();if (data.success) {formMessage.style.display = 'block';formMessage.style.backgroundColor = '#10b981';formMessage.style.color = '#fff';formMessage.textContent = '✅ Success! Your free trial request has been submitted. Check your email for login credentials!';trialForm.reset();formMessage.scrollIntoView({behavior: 'smooth', block: 'nearest' });}else {throw new Error(data.message || 'Submission failed');}}catch (error) {formMessage.style.display = 'block';formMessage.style.backgroundColor = '#ef4444';formMessage.style.color = '#fff';formMessage.textContent = '❌ Error: ' + (error.message || 'Failed to submit. Please try again or contact support.');formMessage.scrollIntoView({behavior: 'smooth', block: 'nearest' });}finally {submitBtn.disabled = false;submitBtn.innerHTML = originalBtnText;}});}const contactForm = document.getElementById('contactForm');if (contactForm) {contactForm.addEventListener('submit', async function(e) {e.preventDefault();const submitBtn = document.getElementById('contactSubmitBtn');const formMessage = document.getElementById('contact-form-message');const originalBtnText = submitBtn.innerHTML;submitBtn.disabled = true;submitBtn.innerHTML = '⏳ Sending...';formMessage.style.display = 'none';const formData = new FormData(contactForm);try {const response = await fetch('https: method: 'POST', body: formData });const data = await response.json();if (data.success) {formMessage.style.display = 'block';formMessage.style.backgroundColor = '#10b981';formMessage.style.color = '#fff';formMessage.textContent = '✅ Thank you! Your message has been sent successfully. We will get back to you within 24 hours.';contactForm.reset();formMessage.scrollIntoView({behavior: 'smooth', block: 'nearest' });}else {throw new Error(data.message || 'Submission failed');}}catch (error) {formMessage.style.display = 'block';formMessage.style.backgroundColor = '#ef4444';formMessage.style.color = '#fff';formMessage.textContent = '❌ Error: ' + (error.message || 'Failed to send message. Please try again or contact us directly at support@ultrastreamnow.com');formMessage.scrollIntoView({behavior: 'smooth', block: 'nearest' });}finally {submitBtn.disabled = false;submitBtn.innerHTML = originalBtnText;}});}const resellerForm = document.getElementById('resellerForm');if (resellerForm) {resellerForm.addEventListener('submit', async function(e) {e.preventDefault();const submitBtn = document.getElementById('resellerSubmitBtn');const formMessage = document.getElementById('reseller-form-message');const originalBtnText = submitBtn.innerHTML;submitBtn.disabled = true;submitBtn.innerHTML = '⏳ Submitting Application...';formMessage.style.display = 'none';const formData = new FormData(resellerForm);try {const response = await fetch('https: method: 'POST', body: formData });const data = await response.json();if (data.success) {formMessage.style.display = 'block';formMessage.style.backgroundColor = '#10b981';formMessage.style.color = '#fff';formMessage.textContent = '✅ Success! Your reseller application has been submitted. Our team will review it and get back to you soon!';resellerForm.reset();formMessage.scrollIntoView({behavior: 'smooth', block: 'nearest' });}else {throw new Error(data.message || 'Submission failed');}}catch (error) {formMessage.style.display = 'block';formMessage.style.backgroundColor = '#ef4444';formMessage.style.color = '#fff';formMessage.textContent = '❌ Error: ' + (error.message || 'Failed to submit application. Please try again or contact us directly.');formMessage.scrollIntoView({behavior: 'smooth', block: 'nearest' });}finally {submitBtn.disabled = false;submitBtn.innerHTML = originalBtnText;}});}});